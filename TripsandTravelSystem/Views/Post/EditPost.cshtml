@model TripsandTravelSystem.Models.TripPostVM

@{
    ViewBag.Title = "EditPost";
    Layout = "~/Views/SharedViews/factory layout.cshtml";
}



<link href="~/Css/Swal.css" rel="stylesheet" />




<!-- Basic Form Inputs card start -->
<div class="card">
    <div class="card-header">
        <h5>Edit Trip Post</h5>

    </div>
    <div class="card-block">

        <form class="form-material" action="/Post/EditPost" method="post" enctype="multipart/form-data">
            <input type="hidden" value="@Model.TripId" name="TripId" />
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Title</label>
                <div class="col-sm-10">
                    @Html.TextBoxFor(a => a.TripTitle, new { @class = "form-control" })
                </div>
                @Html.ValidationMessageFor(a => a.TripTitle, null, new { @class = "text-danger" })
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Destination</label>
                <div class="col-sm-10">
                    @Html.TextBoxFor(a => a.TripDestination, new { @class = "form-control" })
                </div>
                @Html.ValidationMessageFor(a => a.TripDestination, null, new { @class = "text-danger" })
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Detials</label>
                <div class="col-sm-10">
                    @Html.TextAreaFor(a => a.TripDetails, new { @class = "form-control", @rows = "5" })
                </div>
                @Html.ValidationMessageFor(a => a.TripDetails, null, new { @class = "text-danger" })
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Price</label>
                <div class="col-sm-10">
                    @Html.TextAreaFor(a => a.Price, new { @class = "form-control", @rows = "5" })
                </div>
                @Html.ValidationMessageFor(a => a.Price, null, new { @class = "text-danger" })
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Date</label>
                <div class="col-sm-10">

                    <input type="date" name="TripDate" value="@Model.TripDate">
                </div>
                @Html.ValidationMessageFor(a => a.TripDate, null, new { @class = "text-danger" })
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Trip Image</label>
                <div class="col-sm-10">
                    <input type="file" class="form-control" name="Photo">
                </div>
                <input type="hidden" value="@Session["Id"]" name="AgencyId" />
            </div>
            <input type="submit" style="max-width: 500px;" value="Edit" class="btn btn-primary" />
        </form>
        @if(User.IsInRole("Agency")){
        <input type="hidden" value="@Model.Status" id="Status" />
        }
    </div>
</div>


<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    $(document).ready(function () {
        var x = $("#Status").val();
        if (x == "Approved") {

             
                Swal.fire("Warning!", "If you Edit This Post You Will Need Admin Permission Again");

            


        }
           


    });
</script>

<!-- Basic Form Inputs card end -->
